<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Palpites IA • Login</title>

<style>
    body {
        background:#000;
        margin:0;
        padding:0;
        height:100vh;
        display:flex;
        justify-content:center;
        align-items:center;
        font-family: 'Segoe UI', Tahoma, sans-serif;
    }

    .container {
        width:360px;
        padding:35px 30px;
        background:rgba(15,15,15,0.9);
        border-radius:20px;
        border:2px solid #00ff88;
        box-shadow:0 0 25px #00ff88;
        text-align:center;
    }

    /* BOLA NEON */
    .bola {
        width:120px;
        height:120px;
        border-radius:50%;
        border:6px solid rgba(0,255,136,0.15);
        border-top-color:#00ff88;
        animation: spin 1.6s linear infinite;
        margin:0 auto 15px;
        position:relative;
    }

    .bola img {
        width:55px;
        position:absolute;
        top:50%;
        left:50%;
        transform:translate(-50%, -50%);
        filter:drop-shadow(0 0 8px #00ff88);
    }

    @keyframes spin { to { transform:rotate(360deg); } }

    h1 {
        color:#00ff88;
        text-shadow:0 0 15px #00ff88;
        margin-bottom:25px;
    }

    input {
        width:100%;
        padding:14px;
        margin-bottom:15px;
        border-radius:10px;
        border:2px solid #00ff88;
        background:#0f0f0f;
        color:#fff;
        outline:none;
    }

    input:focus {
        box-shadow:0 0 15px #00ff88;
    }

    .botao {
        width:100%;
        padding:14px;
        background:#00ff88;
        color:#000;
        font-weight:bold;
        border:none;
        border-radius:10px;
        cursor:pointer;
        box-shadow:0 0 15px #00ff88;
    }
</style>
</head>

<body>
<div class="container">

    <div class="bola">
        <img src="/static/img/raio.png">
    </div>

    <h1>Palpites IA</h1>

    <form id="formLogin">
        <input type="email" id="email" placeholder="E-mail" required>
        <input type="password" id="senha" placeholder="Senha" required>

        <button class="botao" type="submit">➜ Entrar no Sistema</button>
    </form>

    <a href="/cadastro" style="color:#00ff88;margin-top:12px;display:block;">Não tem conta? Cadastrar</a>

</div>

<script>
document.getElementById("formLogin").addEventListener("submit", async (e)=>{
    e.preventDefault();

    const email = document.getElementById("email").value;
    const senha = document.getElementById("senha").value;

    const r = await fetch("/api/login", {
        method:"POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify({email: email, password: senha})
    });

    const d = await r.json();

    if (d.status === "ok") {
        window.location.href = "/dashboard";
    } else if (d.status === "blocked") {
        window.location.href = "/bloqueado";
    } else {
        alert("Email ou senha inválidos");
    }
});
</script>

</body>
</html>
